<!DOCTYPE html>
<html>
<head>
    <title>Create User</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

<!-- GLOBAL LOADER -->
<div id="globalLoader" class="loader-overlay hidden">
    <div class="loader-circle">
        <img src="{{ url_for('static', filename='images/loader-logo.png') }}"
             alt="Loading"
             class="loader-logo">
    </div>
</div>

<div class="user-create-container">
    <div class="user-create-card">

        <h2>Create New User</h2>

        {% if error %}
            <div class="form-error">{{ error }}</div>
        {% endif %}

        <form method="post" class="user-create-form" onsubmit="showLoader()">
            <input type="email" name="email" placeholder="User Email" required>

            <input type="password" name="password" placeholder="Temporary Password" required>

            <select name="role" required>
                <option value="" disabled selected>Select Role</option>
                <option value="admin">Admin</option>
                <option value="agent">Agent</option>
            </select>

            <button type="submit" onsubmit="showLoader()">Create User</button>
        </form>

    </div>
</div>

<script>
    const loader = document.getElementById("globalLoader");

    function showLoader() {
        if (loader) loader.classList.remove("hidden");
    }

    function hideLoader() {
        if (loader) loader.classList.add("hidden");
    }

    // Hide loader when page fully loads
    window.addEventListener("load", () => {
        hideLoader();
    });
</script>

</body>

</html>
